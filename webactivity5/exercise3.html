<script type="text/javascript">
  function calcTip() {
    var subtotal = parseFloat(document.getElementById("subtotal").value);
    var tipPercent = parseFloat(document.getElementById("tip").value);

    // Handle empty or invalid inputs
    if (isNaN(subtotal)) {
      document.getElementById("total").innerHTML = "$0.00";
      return;
    }

    if (isNaN(tipPercent)) {
      tipPercent = 0; // treat empty tip as 0%
    }

    var tipAmount = subtotal * (tipPercent / 100.0);

    if (tipAmount < 2 && tipPercent > 0) {
      tipAmount = 2;
    }

    var total = subtotal + tipAmount;

    document.getElementById("total").innerHTML =
      "$" + total.toFixed(2);
  }
</script>
